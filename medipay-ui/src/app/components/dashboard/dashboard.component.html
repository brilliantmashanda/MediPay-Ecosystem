<div *ngIf="stats" style="display: flex; gap: 20px; margin-bottom: 30px;">
  <div style="padding: 20px; border: 1px solid #ccc; border-radius: 8px; flex: 1;">
    <h3>Total Claims</h3>
    <p style="font-size: 24px;">{{ stats.total_claims }}</p>
  </div>
  <div style="padding: 20px; border: 1px solid #ccc; border-radius: 8px; flex: 1;">
    <h3>Total Value</h3>
    <p style="font-size: 24px; color: green;">R{{ stats.total_value }}</p>
  </div>
  <div style="display: flex; align-items: center;">
      <button class="btn btn-secondary" (click)="downloadAnalyticsLogs()" style="padding: 10px; cursor: pointer;">
         <i class="fa fa-file-text"></i> Download System Logs
      </button>
  </div>
</div>

<div style="background: #fdfdfd; padding: 25px; border: 1px solid #e0e0e0; border-radius: 10px; margin-bottom: 40px;">
  <h2 style="margin-top: 0;">Capture New Medical Claim</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
    <div>
      <label style="display: block; margin-bottom: 5px;">First Name</label>
      <input type="text" [(ngModel)]="newClaim.patientName" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div>
      <label style="display: block; margin-bottom: 5px;">Surname</label>
      <input type="text" [(ngModel)]="newClaim.patientSurname" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div>
      <label style="display: block; margin-bottom: 5px;">Claim Amount (R)</label>
      <input type="number" [(ngModel)]="newClaim.claimAmount" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div>
      <label style="display: block; margin-bottom: 5px;">Provider Name</label>
      <input type="text" [(ngModel)]="newClaim.providerName" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div>
      <label style="display: block; margin-bottom: 5px;">Provider Number</label>
      <input type="text" [(ngModel)]="newClaim.providerNo" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div style="display: flex; align-items: flex-end;">
      <button (click)="saveClaim()" style="width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
        Save Claim
      </button>
    </div>
  </div>
</div>

<h2>Recent Claims</h2>
<table border="1" style="width: 100%; border-collapse: collapse;">
  <thead>
    <tr style="background: #f4f4f4;">
      <th>ID</th>
      <th>Patient</th>
      <th>Amount</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let claim of claims">
      <td>{{ claim.id }}</td>
      <td>{{ claim.patientName }} {{ claim.patientSurname }}</td>
      <td>R{{ claim.claimAmount }}</td>
      <td><b>{{ claim.status }}</b></td>
      <td>
        <button *ngIf="claim.status === 'PENDING'" (click)="approveClaim(claim.id)">Approve</button>
      </td>
    </tr>
  </tbody>
</table>